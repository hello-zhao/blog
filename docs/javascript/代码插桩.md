# 代码插桩
代码插桩技术能够让我们在不更改已有源码的前提下，从外部注入、拦截各种自定的逻辑。 <br>
**使用空间：**
1. 无侵入埋点
2. 避免相同的代码cv操作
3. ...

## 高阶函数实现
```js
function verify() {
  console.log('verify执行')
}

function demo(msg) {
  console.log(msg)
}


function beforeHook(origin, hook, _this) {
  return function() {
    hook.apply(_this, arguments)
    origin.apply(_this, arguments)
  }
}

demo = beforeHook(demo, verify)
demo('demo执行')
// verify执行
// demo执行
```

## Proxy 拦截实现
```js
function verify() {
  console.log('verify执行')
}

function demo(msg) {
  console.log(msg)
}

var handler = {
  apply (target, ctx, args) {
    verify(args)
    return Reflect.apply(target, ctx, args);
  }
};

demo = new Proxy(demo, handler)
demo('demo执行')
// verify执行
// demo执行
```
